{"ast":null,"code":"import React,{useState,useEffect}from'react';import{makeStyles}from'@material-ui/core/styles';import{Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Typography,Container,Box,Avatar,Button}from'@material-ui/core';import{Link}from'react-router-dom';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({container:{marginTop:theme.spacing(4)},header:{display:'flex',alignItems:'center',marginBottom:theme.spacing(4)},backButton:{marginRight:'auto'},title:{flexGrow:1,textAlign:'center'},tableHeader:{backgroundColor:theme.palette.primary.main,color:theme.palette.common.white},tableHeaderCell:{fontWeight:'bold',color:'inherit'},productImage:{width:theme.spacing(8),height:theme.spacing(8),marginRight:theme.spacing(2)},inventoryCell:{fontWeight:'bold'},lowInventory:{color:theme.palette.error.main}}));const Inventory=()=>{const classes=useStyles();const[products,setProducts]=useState([]);useEffect(()=>{fetchInventoryAndProducts();},[]);const fetchInventoryAndProducts=async()=>{try{const response=await fetch('/api/inventory');if(!response.ok){const errorData=await response.json();throw new Error(errorData.error);}const data=await response.json();setProducts(data);}catch(error){console.error('Error fetching data:',error);toast.error(error.message,{position:\"top-right\",autoClose:3000});}};const getProductImage=productName=>{return\"/images/products/\".concat(productName,\".webp\");};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",className:classes.container,children:[/*#__PURE__*/_jsxs(Box,{className:classes.header,children:[/*#__PURE__*/_jsx(Button,{component:Link,to:\"/\",className:classes.backButton,variant:\"outlined\",children:\"\\u2190 Back to Homepage\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",className:classes.title})]}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,elevation:3,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{className:classes.tableHeader,children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{className:classes.tableHeaderCell,children:\"Product\"}),/*#__PURE__*/_jsx(TableCell,{className:classes.tableHeaderCell,children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{className:classes.tableHeaderCell,children:\"Description\"}),/*#__PURE__*/_jsx(TableCell,{className:classes.tableHeaderCell,children:\"Price\"}),/*#__PURE__*/_jsx(TableCell,{className:classes.tableHeaderCell,children:\"Category\"}),/*#__PURE__*/_jsx(TableCell,{className:classes.tableHeaderCell,children:\"Inventory\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:products.map(product=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Avatar,{src:getProductImage(product.name),alt:product.name,className:classes.productImage})}),/*#__PURE__*/_jsx(TableCell,{children:product.name}),/*#__PURE__*/_jsx(TableCell,{children:product.description}),/*#__PURE__*/_jsx(TableCell,{children:\"$\".concat(product.price.toFixed(2))}),/*#__PURE__*/_jsx(TableCell,{children:product.category}),/*#__PURE__*/_jsx(TableCell,{className:\"\".concat(classes.inventoryCell,\" \").concat(product.quantity<=10?classes.lowInventory:''),children:product.quantity})]},product.id))})]})})]});};export default Inventory;","map":{"version":3,"names":["React","useState","useEffect","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Typography","Container","Box","Avatar","Button","Link","toast","jsx","_jsx","jsxs","_jsxs","useStyles","theme","container","marginTop","spacing","header","display","alignItems","marginBottom","backButton","marginRight","title","flexGrow","textAlign","tableHeader","backgroundColor","palette","primary","main","color","common","white","tableHeaderCell","fontWeight","productImage","width","height","inventoryCell","lowInventory","error","Inventory","classes","products","setProducts","fetchInventoryAndProducts","response","fetch","ok","errorData","json","Error","data","console","message","position","autoClose","getProductImage","productName","concat","maxWidth","className","children","component","to","variant","elevation","map","product","src","name","alt","description","price","toFixed","category","quantity","id"],"sources":["/home/kiruba/Downloads/Microservices/03-starter-projects/ecommerce-ui/client/src/pages/Inventory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  Typography,\n  Container,\n  Box,\n  Avatar,\n  Button,\n} from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    marginTop: theme.spacing(4),\n  },\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: theme.spacing(4),\n  },\n  backButton: {\n    marginRight: 'auto',\n  },\n  title: {\n    flexGrow: 1,\n    textAlign: 'center',\n  },\n  tableHeader: {\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.common.white,\n  },\n  tableHeaderCell: {\n    fontWeight: 'bold',\n    color: 'inherit',\n  },\n  productImage: {\n    width: theme.spacing(8),\n    height: theme.spacing(8),\n    marginRight: theme.spacing(2),\n  },\n  inventoryCell: {\n    fontWeight: 'bold',\n  },\n  lowInventory: {\n    color: theme.palette.error.main,\n  },\n}));\n\nconst Inventory = () => {\n  const classes = useStyles();\n  const [products, setProducts] = useState([]);\n\n  useEffect(() => {\n    fetchInventoryAndProducts();\n  }, []);\n\n  const fetchInventoryAndProducts = async () => {\n    try {\n      const response = await fetch('/api/inventory');\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error);\n      }\n      const data = await response.json();\n      setProducts(data);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      toast.error(error.message, {\n        position: \"top-right\",\n        autoClose: 3000,\n      });\n    }\n  };\n\n  const getProductImage = (productName) => {\n    return `/images/products/${productName}.webp`;\n  };\n\n  return (\n    <Container maxWidth=\"lg\" className={classes.container}>\n      <Box className={classes.header}>\n        <Button component={Link} to=\"/\" className={classes.backButton} variant=\"outlined\">\n          &larr; Back to Homepage\n        </Button>\n        <Typography variant=\"h4\" component=\"h1\" className={classes.title}></Typography>\n      </Box>\n      <TableContainer component={Paper} elevation={3}>\n        <Table>\n          <TableHead className={classes.tableHeader}>\n            <TableRow>\n              <TableCell className={classes.tableHeaderCell}>Product</TableCell>\n              <TableCell className={classes.tableHeaderCell}>Name</TableCell>\n              <TableCell className={classes.tableHeaderCell}>Description</TableCell>\n              <TableCell className={classes.tableHeaderCell}>Price</TableCell>\n              <TableCell className={classes.tableHeaderCell}>Category</TableCell>\n              <TableCell className={classes.tableHeaderCell}>Inventory</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {products.map((product) => (\n              <TableRow key={product.id}>\n                <TableCell>\n                  <Avatar src={getProductImage(product.name)} alt={product.name} className={classes.productImage} />\n                </TableCell>\n                <TableCell>{product.name}</TableCell>\n                <TableCell>{product.description}</TableCell>\n                <TableCell>{`$${product.price.toFixed(2)}`}</TableCell>\n                <TableCell>{product.category}</TableCell>\n                <TableCell\n                  className={`${classes.inventoryCell} ${product.quantity <= 10 ? classes.lowInventory : ''}`}\n                >\n                  {product.quantity}\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Container>\n  );\n};\n\nexport default Inventory;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}