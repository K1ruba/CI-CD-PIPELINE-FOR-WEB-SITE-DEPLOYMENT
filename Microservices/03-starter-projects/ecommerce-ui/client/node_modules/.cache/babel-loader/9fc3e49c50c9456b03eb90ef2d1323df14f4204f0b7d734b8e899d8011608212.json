{"ast":null,"code":"import React,{useState,useEffect}from'react';import Button from'@material-ui/core/Button';import{Link}from'react-router-dom';import'./ProductList.css';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ProductList=()=>{const[products,setProducts]=useState([]);useEffect(()=>{fetchProducts();},[]);const fetchProducts=async()=>{try{const response=await fetch('/api/products');if(!response.ok){const errorData=await response.json();throw new Error(errorData.error);}const data=await response.json();setProducts(data);}catch(error){console.error('Error fetching products:',error);toast.error(error.message,{position:\"top-right\",autoClose:3000});}};const formatImageName=name=>{return\"/images/products/\".concat(name,\".webp\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"plist-product-list-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"plist-header-container\",children:/*#__PURE__*/_jsx(Button,{component:Link,to:\"/\",variant:\"outlined\",style:{marginRight:'auto'},children:\"\\u2190 Back to Homepage\"})}),products.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No products found.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"product-grid\",children:products.map(product=>/*#__PURE__*/_jsxs(Link,{to:\"/products/\".concat(product.id),className:\"product-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image\",children:/*#__PURE__*/_jsx(\"img\",{src:formatImageName(product.name),alt:product.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"product-info\",children:/*#__PURE__*/_jsx(\"h3\",{children:product.name})})]},product.id))})]});};export default ProductList;","map":{"version":3,"names":["React","useState","useEffect","Button","Link","toast","jsx","_jsx","jsxs","_jsxs","ProductList","products","setProducts","fetchProducts","response","fetch","ok","errorData","json","Error","error","data","console","message","position","autoClose","formatImageName","name","concat","className","children","component","to","variant","style","marginRight","length","map","product","id","src","alt"],"sources":["/home/kiruba/Downloads/Microservices/03-starter-projects/ecommerce-ui/client/src/pages/ProductList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom';\nimport './ProductList.css';\nimport { toast } from 'react-toastify';\n\nconst ProductList = () => {\n  const [products, setProducts] = useState([]);\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  const fetchProducts = async () => {\n    try {\n      const response = await fetch('/api/products');\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error);\n      }\n      const data = await response.json();\n      setProducts(data);\n    } catch (error) {\n      console.error('Error fetching products:', error);\n      toast.error(error.message, {\n        position: \"top-right\",\n        autoClose: 3000,\n      });\n    }\n  };\n\n  const formatImageName = (name) => {\n    return `/images/products/${name}.webp`;\n  };\n\n  return (\n    <div className=\"plist-product-list-container\">\n      <div className=\"plist-header-container\">\n        <Button component={Link} to=\"/\" variant=\"outlined\" style={{ marginRight: 'auto' }}>\n          &larr; Back to Homepage\n        </Button>\n      </div>\n      {products.length === 0 ? (\n        <p>No products found.</p>\n      ) : (\n        <div className=\"product-grid\">\n          {products.map((product) => (\n            <Link to={`/products/${product.id}`} key={product.id} className=\"product-card\">\n              <div className=\"product-image\">\n                <img src={formatImageName(product.name)} alt={product.name} />\n              </div>\n              <div className=\"product-info\">\n                <h3>{product.name}</h3>\n              </div>\n            </Link>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProductList;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,0BAA0B,CAC7C,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,mBAAmB,CAC1B,OAASC,KAAK,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvC,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACdW,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,eAAe,CAAC,CAC7C,GAAI,CAACD,QAAQ,CAACE,EAAE,CAAE,CAChB,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CACvC,KAAM,IAAI,CAAAC,KAAK,CAACF,SAAS,CAACG,KAAK,CAAC,CAClC,CACA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACI,IAAI,CAAC,CAAC,CAClCN,WAAW,CAACS,IAAI,CAAC,CACnB,CAAE,MAAOD,KAAK,CAAE,CACdE,OAAO,CAACF,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDf,KAAK,CAACe,KAAK,CAACA,KAAK,CAACG,OAAO,CAAE,CACzBC,QAAQ,CAAE,WAAW,CACrBC,SAAS,CAAE,IACb,CAAC,CAAC,CACJ,CACF,CAAC,CAED,KAAM,CAAAC,eAAe,CAAIC,IAAI,EAAK,CAChC,0BAAAC,MAAA,CAA2BD,IAAI,UACjC,CAAC,CAED,mBACElB,KAAA,QAAKoB,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3CvB,IAAA,QAAKsB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACrCvB,IAAA,CAACJ,MAAM,EAAC4B,SAAS,CAAE3B,IAAK,CAAC4B,EAAE,CAAC,GAAG,CAACC,OAAO,CAAC,UAAU,CAACC,KAAK,CAAE,CAAEC,WAAW,CAAE,MAAO,CAAE,CAAAL,QAAA,CAAC,yBAEnF,CAAQ,CAAC,CACN,CAAC,CACLnB,QAAQ,CAACyB,MAAM,GAAK,CAAC,cACpB7B,IAAA,MAAAuB,QAAA,CAAG,oBAAkB,CAAG,CAAC,cAEzBvB,IAAA,QAAKsB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAC1BnB,QAAQ,CAAC0B,GAAG,CAAEC,OAAO,eACpB7B,KAAA,CAACL,IAAI,EAAC4B,EAAE,cAAAJ,MAAA,CAAeU,OAAO,CAACC,EAAE,CAAG,CAAkBV,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC5EvB,IAAA,QAAKsB,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BvB,IAAA,QAAKiC,GAAG,CAAEd,eAAe,CAACY,OAAO,CAACX,IAAI,CAAE,CAACc,GAAG,CAAEH,OAAO,CAACX,IAAK,CAAE,CAAC,CAC3D,CAAC,cACNpB,IAAA,QAAKsB,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BvB,IAAA,OAAAuB,QAAA,CAAKQ,OAAO,CAACX,IAAI,CAAK,CAAC,CACpB,CAAC,GANkCW,OAAO,CAACC,EAO5C,CACP,CAAC,CACC,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA7B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}